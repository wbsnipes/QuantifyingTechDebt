\begin{table*}[!t]
    \renewcommand{\arraystretch}{1.3}
	\centering
	\caption{Class Structure Data}
	\begin{tabular}{lrrrrr}
	\toprule
\textbf{Class Name} & \textbf{Count Class Base} & \textbf{Count Class Coupled} & \textbf{Count Class Derived} & \textbf{Count Line Code} \Fix{show as \%} & \textbf{Count Declared Method} \Fix{show as \%}\\
\midrule
Class A & 10 & 272 & 1 & 15,040 & 247\\
Class B & 3 & 98 & 0 & 9,360 & 52\\
Class C & 1 & 32 & 0 & 2,851 & 28\\
\bottomrule
	\end{tabular}
	\label{fig:ClassStructureAnalysisData}
\end{table*}

\begin{table*}[!t]
    \renewcommand{\arraystretch}{1.3}
	\centering
	\caption{Class Data from Logs}
	\begin{tabular}{llrrrrr}
	\toprule
\textbf{Developer Name} & \textbf{Class Name} & \textbf{\# Sessions} & \textbf{\# Class Visits} & \textbf{\# Other Class Accesses} & \textbf{Time Spent in Class} & \textbf{Time Spent in Other Classes}\\
\midrule
Developer X & A & 74 & 294 & 78 & 39 hr.\ 34 min.\ 23 sec. & 16 hr.\ 39 min.\ 36 sec.\\
Developer X & B & 32 & 88 & 52 & 2 hr.\ 54 min.\ 20 sec. & 8 hr.\ 54 min.\ 18 sec.\\
Developer X & C & 28 & 77 & 52 & 4 hr.\ 28 min.\ 25 sec. & 9 hr.\ 15 min.\ 41 sec.\\
Developer Y & P & 10 & 45 & 24 & 2 hr.\ 19 min.\ 13 sec. & 1 hr.\ 43 min.\ 12 sec.\\
Developer Y & Q & 7 & 12 & 20 & 24 min.\ 08 sec. & 2 hr.\ 36 min.\ 32 sec.\\
Developer Y & R & 5 & 15 & 16 & 53 min.\ 51 sec. & 40 min.\ 18 sec.\\
\bottomrule
	\end{tabular}
	\label{fig:ClassAnalysisData}
\end{table*}

As previously mentioned we first define sessions to investigate each class that a developer visits. We define session as a moving window time where developer is investigating a certain class. 
\Fix{Will:The picture of sessions replaces these 2 sentences}When we define a session of X hours for a class Y we mean to say that starting from the first time the developer visits class Y while navigating we find the last time he visits the same class in X hours. For each session of class Y that we obtain we study the number of unique classes the developer has visited while in the session as well as the number of times the developer has visited the class Y itself within the session. 
The classes central to a task will have a high count of the number of times the developer visits the class in a particular session and the\Fix{Will:This next statement "number of such sessions will also be high" confused me because we talked about super blocks and blocks before.  Perhaps starting a new sentence would allow more explanation.}number of such sessions will also be high. We also calculate the time spent by developer in the central class as well as the time spent by the developer spent in other classes in the session of the central class.The time factor gives us an estimation of how well the developer comprehends the class and other classes referenced in the session. We studied such sessions for a moving window of 4 hours, 8 hours, 12 hours and 16 hours. 

The data collected by the Blaze logs has all the navigation activities done by the developer in the IDE. It also has appropriate time outs for periods of inactivity in the IDE. We first filtered the log to select only the navigation activities related to classes as well all time outs and IDE exits. Next we calculated the time spent by the developer in the class. We obtained a list of such classes and the time spent by the user in each class. We observed there were instances when the developer accessed a class for less than a second and then switched to another class. We assumed that no useful comprehension can be done by the user in less than a second and attributed such class accesses to random clicks and removed all such entries. We then calculated various parameters that would help in identifying the central class as well the necessary classes for comprehending the central class.   We calculated the metrics for comprehension as defined in section \ref{sec:DataFramework}.

%For each sliding window size we calculated the following parameters:
%\begin{itemize}
%	\item[] Number of sessions formed by each class (No Of sessions).
%	\item[] Number of times the class itself has been accessed inside the session (Count No of Class Edits).
%	\item[] Number of unique files visited in each session (Count No of Other Class Accesses).
%	\item[] Time spent in the class that forms the session (Time Spent in Class).
%	\item[] Time spent in all other files in the session (Time Spent in Other Classes). 
%\end{itemize}
We observed that there was a small change in the number of sessions formed by each class between the 4 hour moving window and the 8 hour moving window. The small magnitude of the difference from the 4 hour window to the 8 hour window means that developers do not very often work in 8 hour windows but rather more often work in 4 hour windows. The 8 hour moving window formed the same number of sessions as that of the 12 hour and 16 hour window. Since the difference was small between the 4 hour and 8 hour sliding window, we decided to use the 4 hour sliding window for further analysis.\Fix{Will:hmm, what about 2hr window, 1 hr window?}

Table~\ref{fig:ClassStructureAnalysisData} refers to the structural analysis of each of the classes that we have used for this study.  These code metrics are generated for a group of 9888 classes in a project. The Count Class Coupled for class A is the highest compared to all the classes in the project. Also the other code metrics are all in the top 20 \Fix{Will:Perhaps express this as percent (like top 1\%} for class A when compared to all other classes in the project. The metrics such Count Line Code and Count Declared Method indicates the class may have the Large Class smell defined by Fowler \cite{Fowler_etal:1999}.   The high numbers suggest this class is important to the system and perhaps consumes a significant portion of the maintenance effort. 

Table~\ref{fig:ClassAnalysisData} shows data for each developer that we investigated. We present 3 classes for each of the developers. Each column represents the 5 parameters we defined to be useful in quantifying the \TD. As you can see for developer X we observe a very high count of the number of sessions as well as high counts in number of class edits and number of other class accesses for Class A. This suggests that the developer referenced Class A over a long period of time and very frequently. The developer also frequently referred to other classes while working on Class A. The data shows that the developer spent more than 39 hours working on Class A and more than 16 hours referencing other classes. The 16 hours the developer spent on other files can be interpreted as a cost of comprehending class A that can be viewed as  \TD. 

Similarly when we see Class B we see that developer X spent nearly 3 hours on Class B but spent nearly 9 hours referencing other classes. This indicates that the developer spent 3 times the time actually spent on the central class in other classes. Only taking time as a factor cannot lead to such conclusions and we need to make sure that the class that we consider as the session is central to the task at hand. In this case the developer has 32 such sessions of Class B where he has also referenced Class B 88 times in these sessions. We can safely say that the developer keeps coming back to class B and thus it must be central to the task. 

Similar patterns can be seen in developer Y where each parameter is indicative of the fact that the considered class is indeed the central class and that the time spent navigating other classes has a significant impact in calculating \TD. 

When we look at the parameters that we obtained from the log together with the code metrics we generated for the files we can see how the high numbers of Class A can be seen in both code metrics as well as navigation data. The navigation data shows the time spent by a developer in editing and comprehending class A is on the higher end and the fact that the code metrics shows us that it is the highest coupled class and one of the longest in terms of lines of source code we understand one cause for the high effort spent maintaining Class A.\Fix{Something more needs to be written here but do not know what?}
